<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Campaign Timeline Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="playbook.css" />
  <link rel="stylesheet" href="timeline-planner.css" />
</head>
<body>
  <div class="page">
    <header class="hero">
      <div class="brand">
        <img src="TodayDigital_Icon.png" alt="Today Digital" class="logo" />
        <div>
          <p class="eyebrow">Interactive Playbook</p>
          <h1>Campaign Timeline Planner</h1>
          <p class="subtitle">Plan, revise, and track policy SLA, revised delivery, and live execution separately.</p>
        </div>
      </div>
      <div class="nav-links">
        <a href="index.html" class="nav-link">Timeline Health</a>
        <a href="timeline-planner.html" class="nav-link active">Timeline Planner</a>
        <a href="comms.html" class="nav-link">Comms Plan</a>
      </div>
    </header>

    <section class="grid planner-grid">
      <article class="card">
        <header class="card-header">
          <h2>Campaign Inputs</h2>
          <p>Kick-off is required for timeline calculations.</p>
        </header>
        <div class="card-body form-grid">
          <label>Campaign name
            <input id="campaignName" type="text" placeholder="Q1 Leadership Campaign" />
          </label>
          <label>Kick-off date (required)
            <input id="kickoffDate" type="date" required />
          </label>
          <label>Interview planned date
            <input id="interviewPlannedDate" type="date" />
          </label>
          <label>Interview actual date
            <input id="interviewActualDate" type="date" />
          </label>
          <label>First publish date
            <input id="firstPublishDate" type="date" />
          </label>
          <label>Live execution status
            <select id="liveStatus"></select>
          </label>
        </div>
      </article>

      <article class="card">
        <header class="card-header">
          <h2>Settings</h2>
          <p>Thresholds and default windows for revised planning.</p>
        </header>
        <div class="card-body form-grid">
          <label>At-risk threshold X (days)
            <input id="riskX" type="number" min="1" />
          </label>
          <label>Off-track threshold Y (days)
            <input id="riskY" type="number" min="1" />
          </label>
          <label>Publish risk threshold Z (days)
            <input id="riskZ" type="number" min="1" />
          </label>
          <label>Production window (days)
            <input id="prodDays" type="number" min="1" />
          </label>
          <label>Review window (days)
            <input id="reviewDays" type="number" min="1" />
          </label>
          <label>Publish window (days)
            <input id="publishDays" type="number" min="1" />
          </label>
          <label class="check-row"><input id="useBusinessDays" type="checkbox" /> Use business days</label>
          <label class="check-row"><input id="showInterviewClient" type="checkbox" checked /> Show interview date in client view</label>
        </div>
      </article>
    </section>

    <section class="grid">
      <article class="card full">
        <header class="card-header">
          <h2>Status Overview</h2>
          <p>Three timeline truths tracked independently.</p>
        </header>
        <div class="card-body status-cards" id="statusCards"></div>
      </article>
    </section>

    <section class="grid planner-grid">
      <article class="card">
        <header class="card-header">
          <h2>Milestones</h2>
          <p>Editing a milestone date shifts downstream dates.</p>
        </header>
        <div class="card-body">
          <div id="milestoneTable"></div>
        </div>
      </article>

      <article class="card">
        <header class="card-header">
          <h2>View</h2>
          <p>Switch between client and internal context.</p>
        </header>
        <div class="card-body">
          <div class="view-toggle">
            <button id="viewClient" class="ghost active" type="button">Client view</button>
            <button id="viewInternal" class="ghost" type="button">Internal view</button>
          </div>
          <div id="timelineView"></div>
        </div>
      </article>
    </section>

    <section class="grid">
      <article class="card full">
        <header class="card-header">
          <h2>Actions</h2>
          <p>Create revisions, export schedule, or validate scenarios.</p>
        </header>
        <div class="card-body actions-row">
          <button id="createRevision" class="primary-link" type="button">Create revised timeline</button>
          <button id="exportJson" class="ghost" type="button">Export JSON</button>
          <button id="exportCsv" class="ghost" type="button">Export CSV</button>
          <button id="runTests" class="ghost" type="button">Run acceptance tests</button>
          <span id="saveHint" class="save-hint"></span>
        </div>
      </article>
    </section>

    <section class="grid">
      <article class="card full">
        <header class="card-header">
          <h2>Revisions</h2>
          <p>Policy deadline is fixed and unaffected by revisions.</p>
        </header>
        <div class="card-body" id="revisionsList"></div>
      </article>
    </section>

    <section class="grid">
      <article class="card full">
        <header class="card-header">
          <h2>Acceptance Test Results</h2>
          <p>Six scenarios validating planner logic.</p>
        </header>
        <div class="card-body" id="testResults">Not run yet.</div>
      </article>
    </section>
  </div>

  <script src="timeline-planner.js"></script>
</body>
</html>
